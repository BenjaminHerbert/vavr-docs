<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.3">
<meta name="author" content="Daniel Dietrich, Robert Winkler">
<title>Javaslang User Guide</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
body{margin:0}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
body{-webkit-font-smoothing:antialiased}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
body{tab-size:4}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{color:rgba(0,0,0,.4)}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top;line-height:1.45}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Javaslang User Guide</h1>
<div class="details">
<span id="author" class="author">Daniel Dietrich, Robert Winkler</span><br>
<span id="revnumber">version 2.0.0-RC3,</span>
<span id="revdate">2016-01-24</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_introduction">1. Introduction</a>
<ul class="sectlevel2">
<li><a href="#_functional_data_structures_in_java_8_with_javaslang">1.1. Functional Data Structures in Java 8 with Javaslang</a></li>
<li><a href="#_functional_programming">1.2. Functional Programming</a>
<ul class="sectlevel3">
<li><a href="#_side_effects">1.2.1. Side-Effects</a></li>
<li><a href="#_referential_transparency">1.2.2. Referential Transparency</a></li>
<li><a href="#_thinking_in_values">1.2.3. Thinking in Values</a></li>
</ul>
</li>
<li><a href="#_data_structures_in_a_nutshell">1.3. Data Structures in a Nutshell</a>
<ul class="sectlevel3">
<li><a href="#_mutable_data_structures">1.3.1. Mutable Data Structures</a></li>
<li><a href="#_immutable_data_structures">1.3.2. Immutable Data Structures</a></li>
<li><a href="#_persistent_data_structures">1.3.3. Persistent Data Structures</a></li>
</ul>
</li>
<li><a href="#_functional_data_structures">1.4. Functional Data Structures</a>
<ul class="sectlevel3">
<li><a href="#_linked_list">1.4.1. Linked List</a></li>
<li><a href="#_queue">1.4.2. Queue</a></li>
<li><a href="#_sorted_set">1.4.3. Sorted Set</a></li>
</ul>
</li>
<li><a href="#_state_of_the_collections">1.5. State of the Collections</a>
<ul class="sectlevel3">
<li><a href="#_seq">1.5.1. Seq</a></li>
<li><a href="#_set_and_map">1.5.2. Set and Map</a></li>
</ul>
</li>
<li><a href="#_gradle">1.6. Gradle</a></li>
<li><a href="#_maven">1.7. Maven</a></li>
<li><a href="#_standalone">1.8. Standalone</a></li>
<li><a href="#_snapshots">1.9. Snapshots</a></li>
</ul>
</li>
<li><a href="#_usage_guide">2. Usage Guide</a>
<ul class="sectlevel2">
<li><a href="#_tuples">2.1. Tuples</a>
<ul class="sectlevel3">
<li><a href="#_create_a_tuple">2.1.1. Create a tuple</a></li>
<li><a href="#_map_a_tuple_component_wise">2.1.2. Map a tuple component-wise</a></li>
<li><a href="#_map_a_tuple_using_one_mapper">2.1.3. Map a tuple using one mapper</a></li>
<li><a href="#_transform_a_tuple">2.1.4. Transform a tuple</a></li>
</ul>
</li>
<li><a href="#_functions">2.2. Functions</a>
<ul class="sectlevel3">
<li><a href="#_composition">2.2.1. Composition</a></li>
<li><a href="#_lifting">2.2.2. Lifting</a></li>
<li><a href="#_currying">2.2.3. Currying</a></li>
<li><a href="#_memoization">2.2.4. Memoization</a></li>
</ul>
</li>
<li><a href="#_values">2.3. Values</a>
<ul class="sectlevel3">
<li><a href="#_option">2.3.1. Option</a></li>
<li><a href="#_try">2.3.2. Try</a></li>
<li><a href="#_lazy">2.3.3. Lazy</a></li>
<li><a href="#_either">2.3.4. Either</a></li>
<li><a href="#_future">2.3.5. Future</a></li>
<li><a href="#_match">2.3.6. Match</a></li>
</ul>
</li>
<li><a href="#_collections">2.4. Collections</a>
<ul class="sectlevel3">
<li><a href="#_list">2.4.1. List</a></li>
<li><a href="#_stream">2.4.2. Stream</a></li>
</ul>
</li>
<li><a href="#_property_checking">2.5. Property Checking</a></li>
<li><a href="#_useful_maven_goals">2.6. Useful Maven Goals</a></li>
<li><a href="#_ide">2.7. IDE</a></li>
<li><a href="#_coding_conventions">2.8. Coding Conventions</a>
<ul class="sectlevel3">
<li><a href="#_javadoc">2.8.1. Javadoc</a></li>
<li><a href="#_packages">2.8.2. Packages</a></li>
<li><a href="#_exceptions">2.8.3. Exceptions</a></li>
<li><a href="#_extension_methods">2.8.4. Extension Methods</a></li>
<li><a href="#_tostring">2.8.5. toString</a></li>
<li><a href="#_class_instantiation">2.8.6. Class instantiation</a></li>
<li><a href="#_unit_tests">2.8.7. Unit tests</a></li>
<li><a href="#_3rd_party_libraries">2.8.8. 3rd party libraries</a></li>
</ul>
</li>
<li><a href="#_scm">2.9. SCM</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_introduction">1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Javaslang is a functional library for Java 8+ that provides persistent data types and functional control structures. Because Javaslang does not depend on any libraries (other than the JVM) you can easily add it as standalone .jar to your classpath.</p>
</div>
<div class="sect2">
<h3 id="_functional_data_structures_in_java_8_with_javaslang">1.1. Functional Data Structures in Java 8 with Javaslang</h3>
<div class="paragraph">
<p>Java 8’s <a href="https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html">lambdas (λ)</a> empower us to create wonderful API’s. They incredibly increase the expressiveness of the language.</p>
</div>
<div class="paragraph">
<p><a href="http://javaslang.com/">Javaslang</a> leveraged lambdas to create various new features based on functional patterns. One of them is a functional collection library that is intended to be a replacement for Java’s standard collections.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/javaslang-collections.png" alt="Javaslang Collections">
</div>
</div>
<div class="paragraph">
<p><em>(This is just a bird’s view, you will find a human-readable version below.)</em></p>
</div>
</div>
<div class="sect2">
<h3 id="_functional_programming">1.2. Functional Programming</h3>
<div class="paragraph">
<p>Before we deep-dive into the details about the data structures I want to talk about some basics. This will make it clear why I created Javaslang and specifically new Java collections.</p>
</div>
<div class="sect3">
<h4 id="_side_effects">1.2.1. Side-Effects</h4>
<div class="paragraph">
<p>Java applications are typically plentiful of <a href="https://en.wikipedia.org/wiki/Side_effect_(computer_science)">side-effects</a>. They mutate some sort of state, maybe the outer world. Common side effects are changing objects or variables <em>in place</em>, printing to the console, writing to a log file or to a database. Side-effects are considered <em>harmful</em> if they affect the semantics of our program in an undesirable way.</p>
</div>
<div class="paragraph">
<p>For example, if a function throws an exception and this exception is<em>interpreted</em>, it is considered as side-effect that <em>affects our program</em>. Furthermore <a href="http://c2.com/cgi/wiki?DontUseExceptionsForFlowControl">exceptions are like non-local goto-statements</a>. They break the normal control-flow. However, real-world applications do perform side-effects.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">int</span> divide(<span class="type">int</span> dividend, <span class="type">int</span> divisor) {
    <span class="comment">// throws if divisor is zero</span>
    <span class="keyword">return</span> dividend / divisor;
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In a functional setting we are in the favorable situation to encapsulate the side-effect in a Try:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// = Success(result) or Failure(exception)</span>
Try divide(<span class="predefined-type">Integer</span> dividend, <span class="predefined-type">Integer</span> divisor) {
    <span class="keyword">return</span> Try.of(() -&gt; dividend / divisor);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>This version of divide does not throw any more. We made the possible failure explicit by using the type Try.</p>
</div>
</div>
<div class="sect3">
<h4 id="_referential_transparency">1.2.2. Referential Transparency</h4>
<div class="paragraph">
<p>A function, or more general an expression, is called <a href="https://en.wikipedia.org/wiki/Referential_transparency">referential transparent</a> if a call can be replaced by its value without affecting the behavior of the program. Simply spoken, given the same input the output is always the same.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// not referential transparent</span>
<span class="predefined-type">Math</span>.random();

<span class="comment">// referential transparent</span>
<span class="predefined-type">Math</span>.max(<span class="integer">1</span>, <span class="integer">2</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>A function is called <a href="https://en.wikipedia.org/wiki/Pure_function">pure</a> if all expressions involved are referential transparent. An application composed of pure functions will most probably <em>just work</em> if it compiles. We are able to reason about it. Unit tests are easy to write and debugging becomes a relict of the past.</p>
</div>
</div>
<div class="sect3">
<h4 id="_thinking_in_values">1.2.3. Thinking in Values</h4>
<div class="paragraph">
<p>Rich Hickey, the creator of Clojure, gave a great talk about <a href="https://www.youtube.com/watch?v=-6BsiVyC1kM">The Value of Values</a>. The most interesting values are <a href="https://en.wikipedia.org/wiki/Immutable_object">immutable</a> values. The main reason is that immutable values</p>
</div>
<div class="ulist">
<ul>
<li>
<p>are inherently thread-safe and hence do not need to be synchronized</p>
</li>
<li>
<p>are stable regarding <em>equals</em> and <em>hashCode</em> and thus are reliable hash keys</p>
</li>
<li>
<p>do not need to be cloned</p>
</li>
<li>
<p>behave type-safe when used in unchecked covariant casts (Java-specific)<br>
The key to a better Java is to use <em>immutable values</em> paired with <em>referential transparent functions</em>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Javaslang provides the necessary <a href="http://javaslang.com/javadoc/snapshot/javaslang/control/package-summary.html">controls</a> and <a href="http://javaslang.com/javadoc/snapshot/javaslang/collection/package-summary.html">collections</a> to accomplish this goal in every-day Java programming.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_data_structures_in_a_nutshell">1.3. Data Structures in a Nutshell</h3>
<div class="paragraph">
<p>Javaslang’s collection library comprises of a rich set of functional data structures built on top of lambdas. The only interface they share with Java’s original collections is Iterable. The main reason is that the mutator methods of Java’s collection interfaces do not return an object of the underlying collection type.</p>
</div>
<div class="paragraph">
<p>We will see why this is so essential by taking a look at the different types of data structures.</p>
</div>
<div class="sect3">
<h4 id="_mutable_data_structures">1.3.1. Mutable Data Structures</h4>
<div class="paragraph">
<p>Java is an object-oriented programming language. We encapsulate state in objects to achieve data hiding and provide mutator methods to control the state. The <a href="https://en.wikipedia.org/wiki/Java_collections_framework">Java collections framework (JCF)</a> is built upon this idea.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">interface</span> <span class="class">Collection</span>&lt;E&gt; {
    <span class="comment">// removes all elements from this collection</span>
    <span class="type">void</span> clear();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Today I comprehend a <em>void</em> return type as a smell. It is evidence thathttps://en.wikipedia.org/wiki/Side_effect_(computer_science)[side-effects] take place, state is mutated. <em>Shared</em> mutable state is an important source of failure, not only in a concurrent setting.</p>
</div>
</div>
<div class="sect3">
<h4 id="_immutable_data_structures">1.3.2. Immutable Data Structures</h4>
<div class="paragraph">
<p><a href="https://en.wikipedia.org/wiki/Immutable_object">Immutable</a> data structures cannot be modified after their creation. In the context of Java they are widely used in the form of collection wrappers.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">List</span>&lt;<span class="predefined-type">String</span>&gt; list = <span class="predefined-type">Collections</span>.unmodifiableList(otherList);

<span class="comment">// Boom!</span>
list.add(<span class="string"><span class="delimiter">&quot;</span><span class="content">why not?</span><span class="delimiter">&quot;</span></span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>There are various libraries that provide us with similar utility methods. The result is always an unmodifiable view of the specific collection. Typically it will throw at runtime when we call a mutator method.</p>
</div>
</div>
<div class="sect3">
<h4 id="_persistent_data_structures">1.3.3. Persistent Data Structures</h4>
<div class="paragraph">
<p>A <a href="https://en.wikipedia.org/wiki/Persistent_data_structure">persistent data structure</a> does preserve the previous version of itself when being modified and is therefore <em>effectively</em> immutable. Fully persistent data structures allow both updates and queries on any version.</p>
</div>
<div class="paragraph">
<p>Many operations perform only small changes. Just copying the previous version wouldn’t be efficient. To save time and memory, it is crucial to identify similarities between two versions and share as much data as possible.</p>
</div>
<div class="paragraph">
<p>This model does not impose any implementation details. Here come functional data structures into play.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_functional_data_structures">1.4. Functional Data Structures</h3>
<div class="paragraph">
<p>Also known as <a href="https://en.wikipedia.org/wiki/Purely_functional"><em>purely</em> functional data structures</a>, these are <em>immutable</em>and <em>persistent</em>. The methods of functional data structures are <em>referential transparent</em>.</p>
</div>
<div class="paragraph">
<p>Javaslang features a wide range of the most-commonly used functional data structures. The following examples are explained in-depth.</p>
</div>
<div class="sect3">
<h4 id="_linked_list">1.4.1. Linked List</h4>
<div class="paragraph">
<p>One of the most popular and also simplest functional data structures is the <a href="https://en.wikipedia.org/wiki/Linked_list">(singly) linked List</a>. It has a <em>head</em> element and a <em>tail</em> List. A linked List behaves like a Stack which follows the <a href="https://en.wikipedia.org/wiki/Stack_(abstract_data_type)">last in, first out (LIFO)</a> method.</p>
</div>
<div class="paragraph">
<p>In <a href="http://javaslang.com/">Javaslang</a> we instantiate a List like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// = List(1, 2, 3)</span>
<span class="predefined-type">List</span>&lt;<span class="predefined-type">Integer</span>&gt; list1 = <span class="predefined-type">List</span>.of(<span class="integer">1</span>, <span class="integer">2</span>, <span class="integer">3</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Each of the List elements forms a separate List node. The tail of the last element is Nil, the empty List.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/list1.png?w=660" alt="List 1">
</div>
</div>
<div class="paragraph">
<p>This enables us to share elements across different versions of the List.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// = List(0, 2, 3)</span>
<span class="predefined-type">List</span>&lt;<span class="predefined-type">Integer</span>&gt; list2 = list1.tail().prepend(<span class="integer">0</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The new head element 0 is <em>linked</em> to the tail of the original List. The original List remains unmodified.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/list2.png?w=660" alt="List 2">
</div>
</div>
<div class="paragraph">
<p>These operations take place in constant time, in other words they are independent of the List size. Most of the other operations take linear time. In Javaslang this is expressed by the interface LinearSeq, which we may already know from Scala.</p>
</div>
<div class="paragraph">
<p>If we need data structures that are queryable in constant time, Javaslang offers Array and Vector. Both have <a href="https://en.wikipedia.org/wiki/Random_access">random access</a> capabilities.</p>
</div>
<div class="paragraph">
<p>The Array type is backed by a Java array of objects. Insert and remove operations take linear time. Vector is in-between Array and List. It performs well in both areas, random access and modification.</p>
</div>
<div class="paragraph">
<p>In fact the linked List can also be used to implement a Queue data structure.</p>
</div>
</div>
<div class="sect3">
<h4 id="_queue">1.4.2. Queue</h4>
<div class="paragraph">
<p>A very efficient functional Queue can be implemented based on two linked Lists. The <em>front</em> List holds the elements that are <em>dequeued</em>, the <em>rear</em>List holds the elements that are <em>enqueued</em>. Both operations enqueue and dequeue perform in O(1).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">Queue</span>&lt;<span class="predefined-type">Integer</span>&gt; queue = <span class="predefined-type">Queue</span>.of(<span class="integer">1</span>, <span class="integer">2</span>, <span class="integer">3</span>)
                            .enqueue(<span class="integer">4</span>)
                            .enqueue(<span class="integer">5</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The initial Queue is created of three elements. Two elements are enqueued on the rear List.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/queue1.png?w=660" alt="Queue 1">
</div>
</div>
<div class="paragraph">
<p>If the front List runs out of elements when dequeueing, the rear List is reversed and becomes the new front List.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/queue2.png?w=660" alt="Queue 2">
</div>
</div>
<div class="paragraph">
<p>When dequeueing an element we get a pair of the first element and the remaining Queue. It is necessary to return the new version of the Queue because functional data structures are immutable and persistent. The original Queue is not affected.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">Queue</span> queue = <span class="predefined-type">Queue</span>.of(<span class="integer">1</span>, <span class="integer">2</span>, <span class="integer">3</span>);

<span class="comment">// = (1, Queue(2, 3))</span>
Tuple2&lt;<span class="predefined-type">Integer</span>, <span class="predefined-type">Queue</span>&gt; dequeued =
        queue.dequeue();</code></pre>
</div>
</div>
<div class="paragraph">
<p>What happens when the Queue is empty? Then dequeue() will throw a NoSuchElementException. To do it the <em>functional way</em> we would rather expect an optional result.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// = Some((1, Queue()))</span>
<span class="predefined-type">Queue</span>.of(<span class="integer">1</span>).dequeueOption();

<span class="comment">// = None</span>
<span class="predefined-type">Queue</span>.empty().dequeueOption();</code></pre>
</div>
</div>
<div class="paragraph">
<p>An optional result may be further processed, regardless if it is empty or not.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// = Queue(1)</span>
<span class="predefined-type">Queue</span> queue = <span class="predefined-type">Queue</span>.of(<span class="integer">1</span>);

<span class="comment">// = Some((1, Queue()))</span>
<span class="predefined-type">Option</span>&lt;Tuple2&lt;<span class="predefined-type">Integer</span>, <span class="predefined-type">Queue</span>&gt;&gt; dequeued =
        queue.dequeueOption();

<span class="comment">// = Some(1)</span>
<span class="predefined-type">Option</span> element = dequeued.map(Tuple2::_1);

<span class="comment">// = Some(Queue())</span>
<span class="predefined-type">Option</span>&lt;<span class="predefined-type">Queue</span>&gt; remaining =
        dequeued.map(Tuple2::_2);</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_sorted_set">1.4.3. Sorted Set</h4>
<div class="paragraph">
<p>Sorted Sets are data structures that are more frequently used than Queues. We use binary search trees to model them in a functional way. These trees consist of nodes with up to two children and values at each node.</p>
</div>
<div class="paragraph">
<p>We build binary search trees in the presence of an ordering, represented by an element Comparator. All values of the left subtree of any given node are strictly less than the value of the given node. All values of the right subtree are strictly greater.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// = TreeSet(1, 2, 3, 4, 6, 7, 8)</span>
<span class="predefined-type">SortedSet</span>&lt;<span class="predefined-type">Integer</span>&gt; xs = <span class="predefined-type">TreeSet</span>.of(<span class="integer">6</span>, <span class="integer">1</span>, <span class="integer">3</span>, <span class="integer">2</span>, <span class="integer">4</span>, <span class="integer">7</span>, <span class="integer">8</span>);</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/binarytree1.png?w=660" alt="Binary Tree 1">
</div>
</div>
<div class="paragraph">
<p>Searches on such trees run in O(log n) time. We start the search at the root and decide if we found the element. Because of the total ordering of the values we know where to search next, in the left or in the right branch of the current tree.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// = TreeSet(1, 2, 3);</span>
<span class="predefined-type">SortedSet</span>&lt;<span class="predefined-type">Integer</span>&gt; set = <span class="predefined-type">TreeSet</span>.of(<span class="integer">2</span>, <span class="integer">3</span>, <span class="integer">1</span>, <span class="integer">2</span>);

<span class="comment">// = TreeSet(3, 2, 1);</span>
<span class="predefined-type">Comparator</span> c = (a, b) -&gt; b - a;
<span class="predefined-type">SortedSet</span>&lt;<span class="predefined-type">Integer</span>&gt; reversed = <span class="predefined-type">TreeSet</span>.of(c, <span class="integer">2</span>, <span class="integer">3</span>, <span class="integer">1</span>, <span class="integer">2</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Most tree operations are inherently <a href="https://en.wikipedia.org/wiki/Recursion">recursive</a>. The insert function behaves similar to the search function. When the end of a search path is reached, a new node is created and the whole path is reconstructed up to the root. Existing child nodes are referenced whenever possible. Hence the insert operation takes O(log n) time and space.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// = TreeSet(1, 2, 3, 4, 5, 6, 7, 8)</span>
<span class="predefined-type">SortedSet</span>&lt;<span class="predefined-type">Integer</span>&gt; ys = xs.add(<span class="integer">5</span>);</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/binarytree2.png?w=660" alt="Binary Tree 2">
</div>
</div>
<div class="paragraph">
<p>In order to maintain the performance characteristics of a binary search tree it needs to be kept balanced. All paths from the root to a leaf need to have roughly the same length.</p>
</div>
<div class="paragraph">
<p>In Javaslang we implemented a binary search tree based on a <a href="https://en.wikipedia.org/wiki/Red%E2%80%93black_tree">Red/Black Tree</a>. It uses a specific coloring strategy to keep the tree balanced on inserts and deletes. To read more about this topic please refer to the book <a href="http://www.amazon.com/Purely-Functional-Structures-Chris-Okasaki/dp/0521663504">Purely Functional Data Structures</a> by Chris Okasaki.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_state_of_the_collections">1.5. State of the Collections</h3>
<div class="paragraph">
<p>Generally we are observing a convergence of programming languages. Good features make it, other disappear. But Java is different, it is bound forever to be backward compatible. That is a strength but also slows down evolution.</p>
</div>
<div class="paragraph">
<p>Lambda brought Java and Scala closer together, yet they are still so different. Martin Odersky, the creator of Scala, recently mentioned in his <a href="https://www.youtube.com/watch?v=NW5h8d_ZyOs">BDSBTB 2015 keynote</a> the state of the Java 8 collections.</p>
</div>
<div class="paragraph">
<p>He described Java’s Stream as a fancy form of an Iterator. The Java 8 Stream API is an example of a <em>lifted</em> collection. What it does is to <em>define</em> a computation and <em>link</em> it to a specific collection in another excplicit step.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// i + 1</span>
i.prepareForAddition()
 .add(<span class="integer">1</span>)
 .mapBackToInteger(Mappers.toInteger())</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is how the new Java 8 Stream API works. It is a computational layer above the well known Java collections.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// = [&quot;1&quot;, &quot;2&quot;, &quot;3&quot;] in Java 8</span>
<span class="predefined-type">Arrays</span>.asList(<span class="integer">1</span>, <span class="integer">2</span>, <span class="integer">3</span>)
      .stream()
      .map(<span class="predefined-type">Object</span>::toString)
      .collect(Collectors.toList())</code></pre>
</div>
</div>
<div class="paragraph">
<p>Javaslang is greatly inspired by Scala. This is how the above example should have been in Java 8.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// = Stream(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;) in Javaslang</span>
Stream.of(<span class="integer">1</span>, <span class="integer">2</span>, <span class="integer">3</span>).map(<span class="predefined-type">Object</span>::toString)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Within the last year we put much effort into implementing the Javaslang collection library. It comprises the most widely used collection types.</p>
</div>
<div class="sect3">
<h4 id="_seq">1.5.1. Seq</h4>
<div class="paragraph">
<p>We started our journey by implementing sequential types. We already described the linked List above. Stream, a lazy linked List, followed. It allows us to process possibly infinite long sequences of elements.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/collections-seq.png?w=660" alt="Seq">
</div>
</div>
<div class="paragraph">
<p>All collections are Iterable and hence could be used in enhanced for-statements.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">for</span> (<span class="predefined-type">String</span> s : <span class="predefined-type">List</span>.of(<span class="string"><span class="delimiter">&quot;</span><span class="content">Java</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Advent</span><span class="delimiter">&quot;</span></span>)) {
    <span class="comment">// side effects and mutation</span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>We could accomplish the same by internalizing the loop and injecting the behavior using a lambda.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">List</span>.of(<span class="string"><span class="delimiter">&quot;</span><span class="content">Java</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Advent</span><span class="delimiter">&quot;</span></span>).forEach(s -&gt; {
    <span class="comment">// side effects and mutation</span>
});</code></pre>
</div>
</div>
<div class="paragraph">
<p>Anyway, as we previously saw we prefer expressions that return a value over statements that return nothing. By looking at a simple example, soon we will recognize that statements add noise and divide what belongs together.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">String</span> join(<span class="predefined-type">String</span>... words) {
    <span class="predefined-type">StringBuilder</span> builder = <span class="keyword">new</span> <span class="predefined-type">StringBuilder</span>();
    <span class="keyword">for</span>(<span class="predefined-type">String</span> s : words) {
        <span class="keyword">if</span> (builder.length() &gt; <span class="integer">0</span>) {
            builder.append(<span class="string"><span class="delimiter">&quot;</span><span class="content">, </span><span class="delimiter">&quot;</span></span>);
        }
        builder.append(s);
    }
    <span class="keyword">return</span> builder.toString();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The Javaslang collections provide us with many functions to operate on the underlying elements. This allows us to express things in a very concise way.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">String</span> join(<span class="predefined-type">String</span>... words) {
    <span class="keyword">return</span> <span class="predefined-type">List</span>.of(words)
               .intersperse(<span class="string"><span class="delimiter">&quot;</span><span class="content">, </span><span class="delimiter">&quot;</span></span>)
               .fold(<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>, <span class="predefined-type">String</span>::concat);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Most goals can be accomplished in various ways using Javaslang. Here we reduced the whole method body to fluent function calls on a List instance. We could even remove the whole method and directly use our List to obtain the computation result.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">List</span>.of(words).mkString(<span class="string"><span class="delimiter">&quot;</span><span class="content">, </span><span class="delimiter">&quot;</span></span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>In a real world application we are now able to drastically reduce the number of lines of code and hence lower the risk of bugs.</p>
</div>
</div>
<div class="sect3">
<h4 id="_set_and_map">1.5.2. Set and Map</h4>
<div class="paragraph">
<p>Sequences are great. But to be complete, a collection library also needs different types of Sets and Maps.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/collections-set-map.png?w=660" alt="Set and Map">
</div>
</div>
<div class="paragraph">
<p>We described how to model sorted Sets with binary tree structures. A sorted Map is nothing else than a sorted Set containing key-value pairs and having an ordering for the keys.</p>
</div>
<div class="paragraph">
<p>The HashMap implementation is backed by a <a href="http://lampwww.epfl.ch/papers/idealhashtrees.pdf">Hash Array Mapped Trie (HAMT)</a>. Accordingly the HashSet is backed by a HAMT containing key-key pairs.</p>
</div>
<div class="paragraph">
<p>Our Map does <em>not</em> have a special Entry type to represent key-value pairs. Instead we use Tuple2 which is already part of Javaslang. The fields of a Tuple are enumerated.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// = (1, &quot;A&quot;)</span>
Tuple2&lt;<span class="predefined-type">Integer</span>, <span class="predefined-type">String</span>&gt; entry = Tuple.of(<span class="integer">1</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">A</span><span class="delimiter">&quot;</span></span>);

<span class="predefined-type">Integer</span> key = entry._1;
<span class="predefined-type">String</span> value = entry._2;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Maps and Tuples are used throughout Javaslang. Tuples are inevitable to handle multi-valued return types in a general way.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// = HashMap((0, List(2, 4)), (1, List(1, 3)))</span>
<span class="predefined-type">List</span>.of(<span class="integer">1</span>, <span class="integer">2</span>, <span class="integer">3</span>, <span class="integer">4</span>).groupBy(i -&gt; i % <span class="integer">2</span>);

<span class="comment">// = List((a, 0), (b, 1), (c, 2))</span>
<span class="predefined-type">List</span>.of(<span class="string"><span class="delimiter">'</span><span class="content">a</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">b</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">c</span><span class="delimiter">'</span></span>).zipWithIndex();</code></pre>
</div>
</div>
<div class="paragraph">
<p>At Javaslang, we explore and test our library by implementing the <a href="https://projecteuler.net/archives">99 Euler Problems</a>. It is a great proof of concept. Please don’t hesitate to send pull requests.<br>
== Getting started</p>
</div>
<div class="paragraph">
<p>Projects that include Javaslang need to target Java 1.8 at minimum.</p>
</div>
<div class="paragraph">
<p>The .jar is available at <a href="http://search.maven.org/#search%7Cga%7C1%7Ca:%22javaslang%22">Maven Central</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_gradle">1.6. Gradle</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">dependencies {
    compile "com.javaslang:javaslang:2.0.0-RC3"
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_maven">1.7. Maven</h3>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependencies&gt;</span>
    <span class="tag">&lt;dependency&gt;</span>
        <span class="tag">&lt;groupId&gt;</span>com.javaslang<span class="tag">&lt;/groupId&gt;</span>
        <span class="tag">&lt;artifactId&gt;</span>javaslang<span class="tag">&lt;/artifactId&gt;</span>
        <span class="tag">&lt;version&gt;</span>2.0.0-RC2<span class="tag">&lt;/version&gt;</span>
    <span class="tag">&lt;/dependency&gt;</span>
<span class="tag">&lt;/dependencies&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_standalone">1.8. Standalone</h3>
<div class="paragraph">
<p>Because Javaslang does <em>not</em> depend on any libraries (other than the JVM) you can easily add it as standalone .jar to your classpath.</p>
</div>
</div>
<div class="sect2">
<h3 id="_snapshots">1.9. Snapshots</h3>
<div class="paragraph">
<p>Developer versions can be found <a href="https://oss.sonatype.org/content/repositories/snapshots/com/javaslang/javaslang">here</a>.</p>
</div>
<div class="paragraph">
<p>Ensure that your <code>~/.m2/settings.xml</code> contains the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;profiles&gt;</span>
    <span class="tag">&lt;profile&gt;</span>
        <span class="tag">&lt;id&gt;</span>allow-snapshots<span class="tag">&lt;/id&gt;</span>
        <span class="tag">&lt;activation&gt;</span>
            <span class="tag">&lt;activeByDefault&gt;</span>true<span class="tag">&lt;/activeByDefault&gt;</span>
        <span class="tag">&lt;/activation&gt;</span>
        <span class="tag">&lt;repositories&gt;</span>
            <span class="tag">&lt;repository&gt;</span>
                snapshots-repo
                <span class="tag">&lt;url&gt;</span>https://oss.sonatype.org/content/repositories/snapshots<span class="tag">&lt;/url&gt;</span>
                <span class="tag">&lt;releases&gt;</span>
                    <span class="tag">&lt;enabled&gt;</span>false<span class="tag">&lt;/enabled&gt;</span>
                <span class="tag">&lt;/releases&gt;</span>
                <span class="tag">&lt;snapshots&gt;</span>
                    <span class="tag">&lt;enabled&gt;</span>true<span class="tag">&lt;/enabled&gt;</span>
                <span class="tag">&lt;/snapshots&gt;</span>
            <span class="tag">&lt;/repository&gt;</span>
        <span class="tag">&lt;/repositories&gt;</span>
    <span class="tag">&lt;/profile&gt;</span>
<span class="tag">&lt;/profiles&gt;</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_usage_guide">2. Usage Guide</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Javaslang comes along with well designed representations of some of the most basic types which apparently are missing or rudimentary in Java: <code>Tuple</code>, <code>Value</code> and <code>λ</code>.<br>
In Javaslang, all is built upon these three basic building blocks:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/javaslang-overview.png" alt="Javaslang Overview">
</div>
</div>
<div class="sect2">
<h3 id="_tuples">2.1. Tuples</h3>
<div class="paragraph">
<p>Java is missing a general notion of tuples. A Tuple combines a fixed number of elements together so that they can be passed around as a whole. Unlike an array or list, a tuple can hold objects with different types, but they are also immutable.<br>
Tuples are of type Tuple1, Tuple2, Tuple3 and so on. There currently is an upper limit of 8 elements. To access elements of a tuple <code>t</code>, you can use method <code>t._1</code> to access the first element, <code>t._2</code> to access the second, and so on.</p>
</div>
<div class="sect3">
<h4 id="_create_a_tuple">2.1.1. Create a tuple</h4>
<div class="paragraph">
<p>Here is an example of how to create a tuple holding a String and an Integer:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// (Java, 8)</span>
Tuple2&lt;<span class="predefined-type">String</span>, <span class="predefined-type">Integer</span>&gt; java8 = Tuple.of(<span class="string"><span class="delimiter">&quot;</span><span class="content">Java</span><span class="delimiter">&quot;</span></span>, <span class="integer">8</span>); <i class="conum" data-value="1"></i><b>(1)</b>

<span class="comment">// &quot;Java&quot;</span>
<span class="predefined-type">String</span> s = java8._1; <i class="conum" data-value="2"></i><b>(2)</b>

<span class="comment">// 8</span>
<span class="predefined-type">Integer</span> i = java8._2; <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>A tuple is created via the static factory method <code>Tuple.of()</code></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Get the 1st element of this tuple.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Get the 2nd element of this tuple.</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_map_a_tuple_component_wise">2.1.2. Map a tuple component-wise</h4>
<div class="paragraph">
<p>The component-wise map evaluates a function per element in the tuple, returning another tuple.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// (Javaslang, 2)</span>
Tuple2&lt;<span class="predefined-type">String</span>, <span class="predefined-type">Integer</span>&gt; that = java8.map(
        s -&gt; s + <span class="string"><span class="delimiter">&quot;</span><span class="content">slang</span><span class="delimiter">&quot;</span></span>,
        i -&gt; i / <span class="integer">4</span>
);</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_map_a_tuple_using_one_mapper">2.1.3. Map a tuple using one mapper</h4>
<div class="paragraph">
<p>It is also possible to map a tuple using one mapping function.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// (Javaslang, 2)</span>
Tuple2&lt;<span class="predefined-type">String</span>, <span class="predefined-type">Integer</span>&gt; that = java8.map(
        (s, i) -&gt; Tuple.of(s + <span class="string"><span class="delimiter">&quot;</span><span class="content">slang</span><span class="delimiter">&quot;</span></span>, i / <span class="integer">4</span>)
);</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_transform_a_tuple">2.1.4. Transform a tuple</h4>
<div class="paragraph">
<p>Transform creates a new type based on the tuple&#8217;s contents.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// &quot;Javaslang 2&quot;</span>
<span class="predefined-type">String</span> that = java8.transform(
        (s, i) -&gt; s + <span class="string"><span class="delimiter">&quot;</span><span class="content">slang </span><span class="delimiter">&quot;</span></span> + i / <span class="integer">4</span>
);</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_functions">2.2. Functions</h3>
<div class="paragraph">
<p>Functional programming is all about values and transformation of values using functions. Java 8 just provides a <code>Function</code> which accepts one parameter and a <code>BiFunction</code> which accepts two parameters. Javaslang provides functions up to a limit of 8 parameters. The functional interfaces are of called <code>Function0, Function1, Function2, Function3</code> and so on. If you need a function which throws a checked exception you can use <code>CheckedFunction1, CheckedFunction2</code> and so on.<br>
The following lambda expression creates a function to sum two integers:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// sum.apply(1, 2) = 3</span>
Function2&lt;<span class="predefined-type">Integer</span>, <span class="predefined-type">Integer</span>, <span class="predefined-type">Integer</span>&gt; sum = (a, b) -&gt; a + b;</code></pre>
</div>
</div>
<div class="paragraph">
<p>This is a shorthand for the following anonymous class definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">Function2&lt;<span class="predefined-type">Integer</span>, <span class="predefined-type">Integer</span>, <span class="predefined-type">Integer</span>&gt; sum = <span class="keyword">new</span> Function2&lt;<span class="predefined-type">Integer</span>, <span class="predefined-type">Integer</span>, <span class="predefined-type">Integer</span>&gt;() {
    <span class="annotation">@Override</span>
    <span class="directive">public</span> <span class="predefined-type">Integer</span> apply(<span class="predefined-type">Integer</span> a, <span class="predefined-type">Integer</span> b) {
        <span class="keyword">return</span> a + b;
    }
};</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also use the static factory method <code>Function3.of(&#8230;&#8203;)</code> to a create a function from any method reference.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">Function3&lt;<span class="predefined-type">String</span>, <span class="predefined-type">String</span>, <span class="predefined-type">String</span>, <span class="predefined-type">String</span>&gt; function3 =
        Function3.of(<span class="local-variable">this</span>::methodWhichAccepts3Parameters);</code></pre>
</div>
</div>
<div class="paragraph">
<p>In fact Javaslang functional interfaces are Java 8 functional interfaces on steroids. They also provide features like:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Composition</p>
</li>
<li>
<p>Lifting</p>
</li>
<li>
<p>Currying</p>
</li>
<li>
<p>Memoization</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_composition">2.2.1. Composition</h4>
<div class="paragraph">
<p>You can compose functions. In mathematics, function composition is the application of one function to the result of another to produce a third function. For instance, the functions f : X → Y and g : Y → Z can be composed to yield a function <code>h: g(f(x))</code> which maps X &#8594; Z.<br>
You can use either <code>andThen</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">Function1&lt;<span class="predefined-type">Integer</span>, <span class="predefined-type">Integer</span>&gt; plusOne = a -&gt; a + <span class="integer">1</span>;
Function1&lt;<span class="predefined-type">Integer</span>, <span class="predefined-type">Integer</span>&gt; multiplyByTwo = a -&gt; a * <span class="integer">2</span>;

Function1&lt;<span class="predefined-type">Integer</span>, <span class="predefined-type">Integer</span>&gt; add1AndMultiplyBy2 = plusOne.andThen(multiplyByTwo);

then(add1AndMultiplyBy2.apply(<span class="integer">2</span>)).isEqualTo(<span class="integer">6</span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>or <code>compose</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">Function1&lt;<span class="predefined-type">Integer</span>, <span class="predefined-type">Integer</span>&gt; add1AndMultiplyBy2 = multiplyByTwo.compose(plusOne);

then(add1AndMultiplyBy2.apply(<span class="integer">2</span>)).isEqualTo(<span class="integer">6</span>);</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_lifting">2.2.2. Lifting</h4>
<div class="paragraph">
<p>You can lift a partial function into a total function that returns an <code>Option</code> result. The term <em>partial function</em> comes from mathematics. A partial function from X to Y is a function f: X′ → Y, for some subset X′ of X. It generalizes the concept of a function f: X → Y by not forcing f to map every element of X to an element of Y. That means a partial function works properly only for some input values. If the function is called with a disallowed input values, it will typically throw an exception.</p>
</div>
<div class="paragraph">
<p>The following method <code>divide</code> is a partial function that only accepts non-zero divisors.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">Function2&lt;<span class="predefined-type">Integer</span>, <span class="predefined-type">Integer</span>, <span class="predefined-type">Integer</span>&gt; divide = (a, b) -&gt; a / b;</code></pre>
</div>
</div>
<div class="paragraph">
<p>We use <code>lift</code> to turn <code>divide</code> into a total function that is defined for all inputs.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">Function2&lt;<span class="predefined-type">Integer</span>, <span class="predefined-type">Integer</span>, <span class="predefined-type">Option</span>&lt;<span class="predefined-type">Integer</span>&gt;&gt; safeDivide = Function2.lift(divide);

<span class="comment">// = None</span>
<span class="predefined-type">Option</span>&lt;<span class="predefined-type">Integer</span>&gt; i1 = safeDivide.apply(<span class="integer">1</span>, <span class="integer">0</span>); <i class="conum" data-value="1"></i><b>(1)</b>

<span class="comment">// = Some(2)</span>
<span class="predefined-type">Option</span>&lt;<span class="predefined-type">Integer</span>&gt; i2 = safeDivide.apply(<span class="integer">4</span>, <span class="integer">2</span>); <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>A lifted function returns <code>None</code> instead of throwing an exception, if the function is invoked with disallowed input values.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>A lifted function returns <code>Some</code>, if the function is invoked with allowed input values.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following method <code>sum</code> is a partial function that only accepts positive input values.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="type">int</span> sum(<span class="type">int</span> first, <span class="type">int</span> second) {
    <span class="keyword">if</span> (first &lt; <span class="integer">0</span> || second &lt; <span class="integer">0</span>) {
        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="exception">IllegalArgumentException</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">Only positive integers are allowed</span><span class="delimiter">&quot;</span></span>); <i class="conum" data-value="1"></i><b>(1)</b>
    }
    <span class="keyword">return</span> first + second;
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The function <code>sum</code> throws an <code>IllegalArgumentException</code> for negative input values.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>We may lift the <code>sum</code> method by providing the methods reference.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">Function2&lt;<span class="predefined-type">Integer</span>, <span class="predefined-type">Integer</span>, <span class="predefined-type">Option</span>&lt;<span class="predefined-type">Integer</span>&gt;&gt; sum = Function2.lift(<span class="local-variable">this</span>::sum);

<span class="comment">// = None</span>
<span class="predefined-type">Option</span>&lt;<span class="predefined-type">Integer</span>&gt; optionalResult = sum.apply(-<span class="integer">1</span>, <span class="integer">2</span>); <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The lifted function catches the <code>IllegalArgumentException</code> and maps it to <code>None</code>.</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_currying">2.2.3. Currying</h4>
<div class="paragraph">
<p>Currying is a technique to partially apply a function by fixing values for some of the parameters. You can fix one or more parameters, depending on the number of parameters. The parameters are bound from left to right.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">Function2&lt;<span class="predefined-type">Integer</span>, <span class="predefined-type">Integer</span>, <span class="predefined-type">Integer</span>&gt; sum = (a, b) -&gt; a + b;
Function1&lt;<span class="predefined-type">Integer</span>, <span class="predefined-type">Integer</span>&gt; add2 = sum.curried().apply(<span class="integer">2</span>); <i class="conum" data-value="1"></i><b>(1)</b>

then(add2.apply(<span class="integer">4</span>)).isEqualTo(<span class="integer">6</span>);</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The first parameter <code>a</code> is fixed to the value 2.</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_memoization">2.2.4. Memoization</h4>
<div class="paragraph">
<p>Memoization is a form of caching. A memoized function executes only once and then returns the result from a cache.<br>
The following example calculates a random number on the first invocation and returns the cached number on the second invocation.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">Function0&lt;<span class="predefined-type">Double</span>&gt; hashCache =
        Function0.of(<span class="predefined-type">Math</span>::random).memoized();

<span class="type">double</span> randomValue1 = hashCache.apply();
<span class="type">double</span> randomValue2 = hashCache.apply();

then(randomValue1).isEqualTo(randomValue2);</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_values">2.3. Values</h3>
<div class="paragraph">
<p>In a functional setting we see a value as a kind of <a href="https://en.wikipedia.org/wiki/Normal_form_(abstract_rewriting)">normal form</a>, it cannot be further evaluated. In Java we express this by making the state of an object final and call it <a href="https://en.wikipedia.org/wiki/Immutable_object">immutable</a>.<br>
Javaslang&#8217;s functional Value abstracts over immutable objects. Efficient write operations are added by sharing immutable memory between instances. What we get is thread-safety for free!</p>
</div>
<div class="sect3">
<h4 id="_option">2.3.1. Option</h4>
<div class="paragraph">
<p>Option is a monadic container type which represents an optional value. Instances of Option are either an instance of <code>Some</code> or the <code>None</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// optional *value*, no more nulls</span>
<span class="directive">final</span> <span class="predefined-type">Option</span>&lt;T&gt; option = <span class="predefined-type">Option</span>.of(...);</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_try">2.3.2. Try</h4>
<div class="paragraph">
<p>Try is a monadic container type which represents a computation that may either result in an exception, or return a successfully computed value. It&#8217;s similar to, but semantically different from <code>Either</code>. Instances of Try, are either an instance of <code>Success</code> or <code>Failure</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// no need to handle exceptions</span>
Try.of(() -&gt; bunchOfWork()).orElse(other);</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">final</span> A result = Try.of(<span class="local-variable">this</span>::bunchOfWork)
    .recover(x -&gt; Match.of(x)
        .whenType(Exception_1.class).then(...)
        .whenType(Exception_2.class).then(...)
        .whenType(Exception_n.class).then(...)
        .get())
    .orElse(other);</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_lazy">2.3.3. Lazy</h4>
<div class="paragraph">
<p>Lazy is a monadic container type which represents a lazy evaluated value. Compared to a Supplier, Lazy is memoizing, i.e. it evaluates only once and therefore is referential transparent.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">final</span> Lazy&lt;<span class="predefined-type">Double</span>&gt; lazy = Lazy.of(<span class="predefined-type">Math</span>::random);
lazy.isEvaluated(); <span class="comment">// = false</span>
lazy.get();         <span class="comment">// = 0.123 (random generated)</span>
lazy.isEvaluated(); <span class="comment">// = true</span>
lazy.get();         <span class="comment">// = 0.123 (memoized)</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Since version 2.0.0 you may also create a real lazy value (works only with interfaces):</p>
</div>
<div class="paragraph">
<p><code>final CharSequence chars = Lazy.of(() &#8594; "Yay!", CharSequence.class);</code></p>
</div>
</div>
<div class="sect3">
<h4 id="_either">2.3.4. Either</h4>
<div class="paragraph">
<p>Either represents a value of two possible types. An Either is either a Left or a Right. If the given Either is a Right and projected to a Left, the Left operations have no effect on the Right value. If the given Either is a Left and projected to a Right, the Right operations have no effect on the Left value. If a Left is projected to a Left or a Right is projected to a Right, the operations have an effect.</p>
</div>
<div class="paragraph">
<p>Example: A compute() function, which results either in an Integer value (in the case of success) or in an error message of type String (in the case of failure). By convention the success case is Right and the failure is Left.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">Either&lt;<span class="predefined-type">String</span>,<span class="predefined-type">Integer</span>&gt; value = compute().right().map(i -&gt; i * <span class="integer">2</span>).toEither();</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the result of compute() is Right(1), the value is Right(2).<br>
If the result of compute() is Left("error), the value is Left("error").</p>
</div>
</div>
<div class="sect3">
<h4 id="_future">2.3.5. Future</h4>
<div class="paragraph">
<p>A Future is a computation result that becomes available at some point. All operations provided are non-blocking.<br>
The underlying ExecutorService is used to execute asynchronous handlers, e.g. via onComplete(&#8230;&#8203;).</p>
</div>
<div class="paragraph">
<p>A Future has two states: pending and completed.</p>
</div>
<div class="paragraph">
<p>Pending: The computation is ongoing. Only a pending future may be completed or cancelled.<br>
Completed: The computation finished successfully with a result, failed with an exception or was cancelled.<br>
Callbacks may be registered on a Future at each point of time. These actions are performed as soon as the Future is completed. An action which is registered on a completed Future is immediately performed. The action may run on a separate Thread, depending on the underlying ExecutorService. Actions which are registered on a cancelled Future are performed with the failed result.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// future *value*, result of an async calculation</span>
<span class="directive">final</span> <span class="predefined-type">Future</span>&lt;T&gt; future = <span class="predefined-type">Future</span>.of(...);</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_match">2.3.6. Match</h4>
<div class="paragraph">
<p>Match is a Java switch on steroids (without the negative 'side effects'). Some characteristics of Match are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>it has a fluent API</p>
</li>
<li>
<p>it can be Function</p>
</li>
<li>
<p>it can be Value</p>
</li>
<li>
<p>it is able to match values, i.e. whenIs(Object) and whenIn(Object&#8230;&#8203;)</p>
</li>
<li>
<p>it is able to match types, i.e. whenType(Class) and whenTypeIn(Class&#8230;&#8203;)</p>
</li>
<li>
<p>it is able to match conditions, i.e. whenTrue(Function1)</p>
</li>
<li>
<p>it is able to match function applicability, i.e. whenApplicable(Function1)</p>
</li>
<li>
<p>results may be specified eagerly, i.e. then(value)</p>
</li>
<li>
<p>results may be obtained lazily, i.e. then(() &#8594; value)</p>
</li>
<li>
<p>results may be derived from the context, i.e. then(object &#8594; f(object))</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Match API comes in two flavors, the MatchValue and the MatchFunction. Both can be used either as expression or<br>
as side-effect producing statement.</p>
</div>
<div class="paragraph">
<p>MatchValue is a Value, obtained by <code>Match.of(&#8230;&#8203;)</code>. In this case a Match is terminated with <code>get()</code>, <code>getOrElse()</code>, etc.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">Match.of(<span class="integer">1</span>)
     .whenType(<span class="predefined-type">String</span>.class).then(s -&gt; <span class="string"><span class="delimiter">&quot;</span><span class="content">String </span><span class="delimiter">&quot;</span></span> + s)
     .whenType(<span class="predefined-type">Number</span>.class).then(n -&gt; <span class="string"><span class="delimiter">&quot;</span><span class="content">Number </span><span class="delimiter">&quot;</span></span> + n)
     .whenType(<span class="predefined-type">Integer</span>.class).then(i -&gt; <span class="string"><span class="delimiter">&quot;</span><span class="content">int </span><span class="delimiter">&quot;</span></span> + i)
     .getOrElse(<span class="string"><span class="delimiter">&quot;</span><span class="content">unknown</span><span class="delimiter">&quot;</span></span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>MatchFunction is a Function, obtained by one of <code>Match.whenXxx(&#8230;&#8203;)</code>. In this case a Match is terminated by applying it to an object, e.g.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">Match.when(...).then(...).otherwise(...).apply(o);</code></pre>
</div>
</div>
<div class="paragraph">
<p>A MatchFunction is a reusable Match, i.e. it may be applied to different objects.<br>
Example of a Match as partial function:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">Match&lt;<span class="predefined-type">Number</span>&gt; toNumber = Match.as(<span class="predefined-type">Number</span>.class)
     .whenType(<span class="predefined-type">Integer</span>.class).then(i -&gt; i)
     .whenType(<span class="predefined-type">String</span>.class).then(s -&gt; <span class="keyword">new</span> <span class="predefined-type">BigDecimal</span>(s));
<span class="predefined-type">Number</span> number = toNumber.apply(<span class="float">1.0d</span>); <span class="comment">// throws a MatchError</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Example of a Match as total function:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">Match&lt;<span class="predefined-type">Number</span>&gt; toNumber = Match.as(<span class="predefined-type">Number</span>.class)
     .whenType(<span class="predefined-type">Integer</span>.class).then(i -&gt; i)
     .whenType(<span class="predefined-type">String</span>.class).then(s -&gt; <span class="keyword">new</span> <span class="predefined-type">BigDecimal</span>(s));
     .otherwise(-<span class="integer">1</span>)
     .apply(<span class="float">1.0d</span>); <span class="comment">// result: -1</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Javaslang&#8217;s pattern matching feature goes far beyond Java&#8217;s switch.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">Stream.of(<span class="integer">0</span>, <span class="integer">1</span>, <span class="integer">2</span>, <span class="integer">3</span>, <span class="integer">13</span>, <span class="integer">14</span>, <span class="predefined-constant">null</span>, -<span class="integer">1</span>)
        .peek(n -&gt; out.print(format(<span class="string"><span class="delimiter">&quot;</span><span class="content">%d -&gt; </span><span class="delimiter">&quot;</span></span>, n)))
        .map(Match.as(<span class="predefined-type">Object</span>.class) <span class="comment">// Match function (with apply(Object))</span>
                .when(Objects::isNull).then(<span class="string"><span class="delimiter">&quot;</span><span class="content">!</span><span class="delimiter">&quot;</span></span>)
                .whenIs(<span class="integer">0</span>).then(<span class="string"><span class="delimiter">&quot;</span><span class="content">zero</span><span class="delimiter">&quot;</span></span>)
                .whenIsIn(<span class="integer">1</span>, <span class="integer">13</span>, <span class="integer">14</span>).then(i -&gt; <span class="string"><span class="delimiter">&quot;</span><span class="content">first digit 1: </span><span class="delimiter">&quot;</span></span> + i)
                .whenType(<span class="predefined-type">Double</span>.class).then(d -&gt; <span class="string"><span class="delimiter">&quot;</span><span class="content">Found a double: </span><span class="delimiter">&quot;</span></span> + d)
                .whenApplicable((<span class="predefined-type">Number</span> num) -&gt; <span class="string"><span class="delimiter">&quot;</span><span class="content">number: </span><span class="delimiter">&quot;</span></span> + num).thenApply()
                .otherwise(() -&gt; <span class="string"><span class="delimiter">&quot;</span><span class="content">no match</span><span class="delimiter">&quot;</span></span>))
        .map(MatchingTest::toString)
        .forEach(out::println);
out.flush(); <span class="comment">// Avoid mixing sout and serr</span>

<span class="comment">// Match monad (with map(), flatMap(), get(), orElse(), orElseGet(), orElseThrow(), etc.)</span>
<span class="keyword">for</span> (<span class="predefined-type">String</span> s : Match.of(<span class="integer">0</span>)
        .whenType(<span class="predefined-type">Number</span>.class).then(<span class="predefined-type">Object</span>::toString)
        .otherwise(<span class="string"><span class="delimiter">&quot;</span><span class="content">unknown</span><span class="delimiter">&quot;</span></span>)
        .map(<span class="predefined-type">String</span>::toUpperCase)) {
    out.println(s);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Javaslang allows to match more special objects by more general cases:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// Match as Value</span>
Match.of(<span class="keyword">new</span> Some&lt;&gt;(<span class="integer">1</span>))
     .whenApplicable((<span class="predefined-type">Option</span> i) -&gt; <span class="predefined-constant">true</span>).thenApply()
     .get(); <span class="comment">// = true</span>

Match.of(<span class="keyword">new</span> Some&lt;&gt;(<span class="integer">1</span>))
     .whenType(<span class="predefined-type">Option</span>.class).then(<span class="predefined-constant">true</span>)
     .get(); <span class="comment">// = true</span>

<span class="comment">// Match as Function</span>
Match.whenApplicable((<span class="predefined-type">Option</span> i) -&gt; <span class="predefined-constant">true</span>).thenApply()
     .apply(<span class="keyword">new</span> Some&lt;&gt;(<span class="integer">1</span>)); <span class="comment">// = true</span>

Match.whenType(<span class="predefined-type">Option</span>.class).then(<span class="predefined-constant">true</span>)
     .apply(<span class="keyword">new</span> Some&lt;&gt;(<span class="integer">1</span>)); <span class="comment">// = true</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The opposite is also possible, to match more general objects by more special cases:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// Match as Value</span>
Match.of(<span class="predefined-type">Option</span>.of(<span class="integer">1</span>))
     .whenIs(<span class="keyword">new</span> Some&lt;&gt;(<span class="integer">1</span>)).then(<span class="predefined-constant">true</span>)
     .get(); <span class="comment">// = true</span>

<span class="comment">// Match as Function</span>
Match.whenIs(<span class="keyword">new</span> Some&lt;&gt;(<span class="integer">1</span>)).then(<span class="predefined-constant">true</span>)
     .apply(<span class="predefined-type">Option</span>.of(<span class="integer">1</span>)); <span class="comment">// = true</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Match can be also used to perform side-effects instead of returning values. This is not recommended in general. However, real world Java programs contain side-effects.</p>
</div>
<div class="paragraph">
<p>For example let us consider a method which prints output to the console:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">static</span> <span class="type">void</span> println(<span class="predefined-type">Object</span> o, <span class="predefined-type">String</span> message) {
    <span class="predefined-type">System</span>.out.println(o + <span class="string"><span class="delimiter">&quot;</span><span class="content"> </span><span class="delimiter">&quot;</span></span> + message);
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then there are two ways to use <code>Match</code> to print a match result, either as <code>MatchValue</code> effect or as <code>MatchFunction</code> effect.</p>
</div>
<div class="paragraph">
<p>The <code>MatchValue</code> effect is not reusable. A value is matched and at the same time the an effect takes place:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// 1 is a Number!</span>
Match.of(<span class="integer">1</span>)
        .whenType(<span class="predefined-type">String</span>.class).thenRun(s -&gt; println(s, <span class="string"><span class="delimiter">&quot;</span><span class="content">is a String!</span><span class="delimiter">&quot;</span></span>))
        .whenType(<span class="predefined-type">Number</span>.class).thenRun(n -&gt; println(n, <span class="string"><span class="delimiter">&quot;</span><span class="content">is a Number!</span><span class="delimiter">&quot;</span></span>))
        .otherwiseRun(o -&gt; println(o, <span class="string"><span class="delimiter">&quot;</span><span class="content">has an unknown type.</span><span class="delimiter">&quot;</span></span>));</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>MatchFunction</code> effect is reusable. It is a <code>Consumer</code> which performs the effect when applied to an object:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">final</span> Consumer&lt;<span class="predefined-type">Object</span>&gt; action = Match
        .whenType(<span class="predefined-type">String</span>.class).thenRun(s -&gt; println(s, <span class="string"><span class="delimiter">&quot;</span><span class="content">is a String!</span><span class="delimiter">&quot;</span></span>))
        .whenType(<span class="predefined-type">Number</span>.class).thenRun(n -&gt; println(n, <span class="string"><span class="delimiter">&quot;</span><span class="content">is a Number!</span><span class="delimiter">&quot;</span></span>))
        .otherwiseRun(o -&gt; println(o, <span class="string"><span class="delimiter">&quot;</span><span class="content">has an unknown type.</span><span class="delimiter">&quot;</span></span>));

<span class="comment">// 1 is a Number!</span>
action.accept(<span class="integer">1</span>);

<span class="comment">// A is a String!</span>
action.accept(<span class="string"><span class="delimiter">&quot;</span><span class="content">A</span><span class="delimiter">&quot;</span></span>);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Both versions of effect performing matches result in nothing, i.e. <code>void</code>.</p>
</div>
<div class="paragraph">
<p>Here is a complete overview over the whole Match syntax:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/match.png" alt="Pattern Matching">
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_collections">2.4. Collections</h3>
<div class="paragraph">
<p>With Javaslang there has been put much effort into designing an all-new collection library for Java which meets the requirements of functional programming, namely immutability.</p>
</div>
<div class="paragraph">
<p>Java&#8217;s Stream lifts a computation to a different layer and links to a specific collection in another explicit step. With Javaslang we don&#8217;t need all this additional boilerplate.</p>
</div>
<div class="paragraph">
<p>The new collections are based on <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html">java.lang.Iterable</a>, so they leverage the sugared iteration style.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// 1000 random numbers</span>
<span class="keyword">for</span> (<span class="type">double</span> random : Stream.gen(<span class="predefined-type">Math</span>::random).take(<span class="integer">1000</span>)) {
    ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>TraversableOnce</code> has a huge amount of useful functions to operate on the collection. Its API is similar to <a href="http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html">java.util.stream.Stream</a> but more mature.</p>
</div>
<div class="sect3">
<h4 id="_list">2.4.1. List</h4>
<div class="paragraph">
<p>Javaslang&#8217;s <code>List</code> is an immutable linked list. Mutations create new instances. Most operations are performed in linear time. Consequent operations are executed one by one.</p>
</div>
<div class="sect4">
<h5 id="_java_8">Java 8</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">Arrays</span>.asList(<span class="integer">1</span>, <span class="integer">2</span>, <span class="integer">3</span>).stream().reduce((i, j) -&gt; i + j);</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">IntStream.of(<span class="integer">1</span>, <span class="integer">2</span>, <span class="integer">3</span>).sum();</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_javaslang">Javaslang</h5>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// javaslang.collection.List</span>
<span class="predefined-type">List</span>.of(<span class="integer">1</span>, <span class="integer">2</span>, <span class="integer">3</span>).sum();</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_stream">2.4.2. Stream</h4>
<div class="paragraph">
<p>The <code>javaslang.collection.Stream</code> implementation is a lazy linked list. Values are computed only when needed. Because of its laziness, most operations are performed in constant time. Operations are intermediate in general and executed in a single pass.</p>
</div>
<div class="paragraph">
<p>The stunning thing about streams is that we can use them to represent sequences that are (theoretically) infinitely long.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// 2, 4, 6, ...</span>
Stream.gen(<span class="integer">1</span>).filter(i -&gt; i % <span class="integer">2</span> == <span class="integer">0</span>);</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_property_checking">2.5. Property Checking</h3>
<div class="paragraph">
<p>Property checking (also known as <a href="http://en.wikipedia.org/wiki/Property_testing">property testing</a>) is a truly powerful way to test properties of our code in a functional way. It is based on <em><a href="http://javaslang.com/#">arbitrarily</a></em> generated random data, which is passed to a user defined check function.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="directive">final</span> Arbitrary ints = Arbitrary.integer();

<span class="comment">// square(int) &gt;= 0: OK, passed 1000 tests.</span>
<span class="directive">final</span> CheckResult result = <span class="keyword">new</span> Property(<span class="string"><span class="delimiter">&quot;</span><span class="content">square(int) &gt;= 0</span><span class="delimiter">&quot;</span></span>)
        .forAll(ints)
        .suchThat(i -&gt; (i * i) &gt;= <span class="integer">0</span>)
        .check();
        .assertIsSatisfied();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Generators of complex data structures are composed of simple generators.<br>
== How to Contribute</p>
</div>
<div class="paragraph">
<p>Javaslang needs to be compiled with <strong>jdk 1.8.0_40</strong> at minimum, which fixes many type inference bugs of the java compiler.</p>
</div>
<div class="paragraph">
<p><a href="https://help.github.com/articles/fork-a-repo">Fork</a> the GitHub, send a <a href="https://help.github.com/articles/using-pull-requests">pull request</a> and keep your fork in <a href="https://help.github.com/articles/syncing-a-fork/">sync</a> with the upstream repository.</p>
</div>
</div>
<div class="sect2">
<h3 id="_useful_maven_goals">2.6. Useful Maven Goals</h3>
<div class="ulist">
<ul>
<li>
<p>Executing tests: <code>mvn clean test</code></p>
</li>
<li>
<p>Executing doclint: <code>mvn javadoc:javadoc</code></p>
</li>
<li>
<p>Executing code coverage report: <code>mvn -P ci clean test jacoco:report</code></p>
</li>
<li>
<p>Create -javadoc.jar: <code>mvn javadoc:jar</code></p>
</li>
<li>
<p>Create -source.jar: <code>mvn source:jar</code></p>
</li>
<li>
<p>Update version properties: <code>mvn versions:update-properties</code></p>
</li>
<li>
<p>Check for new plugin version: <code>mvn versions:display-plugin-updates</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_ide">2.7. IDE</h3>
<div class="paragraph">
<p>Currently it is recommended to use IntelliJ IDEA because of performance issues with Eclipse regarding type inference. Please note that these issues only occur when developing Javaslang - for using Javaslang, Eclipse is fine.</p>
</div>
<div class="paragraph">
<p>Using IntelliJ IDEA, the Community Edition works out-of-the-box. The idea-settings.jar can be found in the repo.</p>
</div>
<div class="paragraph">
<p>The IDEA settings include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Code Style</p>
</li>
<li>
<p>File templates</p>
</li>
<li>
<p>Inspection profiles<br>
Using Eclipse, the minimal requirements are</p>
</li>
<li>
<p>Eclipse 'Platform Runtime Binary' (<a href="http://download.eclipse.org/eclipse/downloads/">http://download.eclipse.org/eclipse/downloads/</a>)</p>
</li>
<li>
<p>jdt (Eclipse Java Development Tools)</p>
</li>
<li>
<p>m2e (Maven Integration for Eclipse)</p>
</li>
<li>
<p>git (Eclipse Git Team Provider)</p>
</li>
<li>
<p>Code Recommenders for Java Developers</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_coding_conventions">2.8. Coding Conventions</h3>
<div class="sect3">
<h4 id="_javadoc">2.8.1. Javadoc</h4>
<div class="ulist">
<ul>
<li>
<p>Public API needs javadoc, e.g. public classes and public methods.</p>
</li>
<li>
<p>Non-trivial private methods need javadoc, too.</p>
</li>
<li>
<p>A package, which is part of the public API, contains a <code>package-info.java</code>.</p>
</li>
<li>
<p>Unit tests contain no javadoc at all (because they introduce no new API and contain no business logic).</p>
</li>
<li>
<p>Running <code>mvn javadoc:javadoc</code> results in no javadoc errors.</p>
</li>
<li>
<p>All classes start with the following copyright notice, which contains the list of core developers:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>/*     / \____  _    _  ____   ______  / \ ____  __    _ _____
 *    /  /    \/ \  / \/    \ /  /\__\/  //    \/  \  / /  _  \   Javaslang
 *  _/  /  /\  \  \/  /  /\  \\__\\  \  //  /\  \ /\\/  \__/  /   Copyright 2014-now Daniel Dietrich
 * /___/\_/  \_/\____/\_/  \_/\__\/__/___\_/  \_//  \__/_____/    Licensed under the Apache License, Version 2.0
 */</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_packages">2.8.2. Packages</h4>
<div class="ulist">
<ul>
<li>
<p>There is only one first-level package: javaslang.</p>
</li>
<li>
<p>The maximum package depth is two.</p>
</li>
<li>
<p>Package names are denoted in singular.</p>
</li>
<li>
<p>Packages are sliced by domain.</p>
</li>
<li>
<p>Util packages do not exist.</p>
</li>
<li>
<p>Cyclic dependencies between packages do not exist.</p>
</li>
<li>
<p>To avoid cycles, coherent classes are grouped in packages. E.g. Arrays is located in javaslang.lang instead of javaslang.collection.</p>
</li>
<li>
<p>Package private classes are welcome in order to hide non-public API.</p>
</li>
<li>
<p>Inner classes are preferred over package private classes in case of one-to-one dependencies.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_exceptions">2.8.3. Exceptions</h4>
<div class="ulist">
<ul>
<li>
<p>Unchecked exceptions, i.e. RuntimeExceptions, which are not expected to be handled explicitly by the User of an API, are not declared in the method signature. Instead, unchecked exceptions are declared in the javadoc to document the API.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_extension_methods">2.8.4. Extension Methods</h4>
<div class="ulist">
<ul>
<li>
<p>Classes containing extensions methods have the name of the extended class and end with an 's'. E.g. <code>java.util.List</code> is extended by <code>javaslang.collection.Lists</code>.</p>
</li>
<li>
<p>Classes containing extensions methods are final and have a private constructor.</p>
</li>
<li>
<p>Extension methods are static.</p>
</li>
<li>
<p>The private constructor of class Xxx is:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>/**
 * This class is not intended to be instantiated.
 */
private Xxx() {
    requireNotInstantiable();
}</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>The extended type is the first parameter of an extension method. E.g. <code>Lists.lastElement(list)</code>.</p>
</li>
<li>
<p>Use <code>Iterable</code> instead of <code>Collection</code> to support also Javaslang collections. See <code>javaslang.collection.Stream</code> for streaming Iterables.</p>
</li>
<li>
<p>Use <code>CharSequence</code> instead of <code>String</code> to widen the API (<code>charSequence.toString()</code> will provide the String).</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_tostring">2.8.5. toString</h4>
<div class="ulist">
<ul>
<li>
<p>The String representation of an object o should be <code>o.getClass().getSimpleName() + "(" + string + ")"</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_class_instantiation">2.8.6. Class instantiation</h4>
<div class="ulist">
<ul>
<li>
<p>Classes are instantiated via <code>new</code>.</p>
</li>
<li>
<p>Interface may provide static factory methods. E.g. javaslang.option.Option.of(Object obj).</p>
</li>
<li>
<p>Extension methods may instantiate classes, too.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_unit_tests">2.8.7. Unit tests</h4>
<div class="ulist">
<ul>
<li>
<p>Public API is tested.</p>
</li>
<li>
<p>High-level functionality is tested in first place.</p>
</li>
<li>
<p>Corner cases are tested.</p>
</li>
<li>
<p>Trivial methods are not tested, e.g. getters, setters.</p>
</li>
<li>
<p>The test method name documents the test, i.e. 'shouldFooWhenBarGivenBaz'</p>
</li>
<li>
<p>In most cases it makes sense to run one assertion per @Test.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_3rd_party_libraries">2.8.8. 3rd party libraries</h4>
<div class="ulist">
<ul>
<li>
<p>Javaslang has no dependencies other than Java.</p>
</li>
<li>
<p>Unit tests depend solely on junit and assertj.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_scm">2.9. SCM</h3>
<div class="ulist">
<ul>
<li>
<p>Commits are coarsely granular grouped by feature/change.</p>
</li>
<li>
<p>Commits do not mix change sets of different domains/purpose.</p>
</li>
<li>
<p>Commit messages provide enough detail to extract a changelog for a new release.<br>
== License</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Copyright 2014-2015 Daniel Dietrich</p>
</div>
<div class="paragraph">
<p>Licensed under the Apache License, Version 2.0 (the "License");<br>
you may not use this file except in compliance with the License.<br>
You may obtain a copy of the License at</p>
</div>
<div class="paragraph">
<p><a href="http://www.apache.org/licenses/LICENSE-2.0" class="bare">http://www.apache.org/licenses/LICENSE-2.0</a></p>
</div>
<div class="paragraph">
<p>Unless required by applicable law or agreed to in writing, software<br>
distributed under the License is distributed on an "AS IS" BASIS,<br>
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br>
See the License for the specific language governing permissions and<br>
limitations under the License.</p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 2.0.0-RC3<br>
Last updated 2016-01-24 20:49:15 +01:00
</div>
</div>
</body>
</html>